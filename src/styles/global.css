@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --deep-olive: #435339;
  --sage: #9eb589;
  --linen: #ede4d2;
  --sand: #cdbb99;
  --accent: #314427;
  --accent-light: rgba(67, 83, 57, 0.16);
  --olive-700: #314427;
  --text-primary: #21311d;
  --text-muted: #6f7762;
  --text-ink-900: #0b1309;
  --text-card: #fdfcf8;
  --text-card-muted: rgba(253, 252, 248, 0.87);
  --text-banner: #98b68f;
  --text-lightbox-base: #f3f9f1;
  --text-lightbox-heading: #f5f9f3;
  --text-lightbox-accent: #9fbf92;
  --text-lightbox-body: #c9d7c4;
  --text-lightbox-title: #dcf8d6;
  --text-lightbox-link: #e0f9db;
  --text-fallback: #7b8e74;
  --text-toggle: rgba(83, 95, 86, 0.78);
  --text-toggle-strong: rgba(67, 83, 57, 0.95);
  --text-toggle-on: #f0f6fe;

  --paper: #fdfbf5;
  --surface-card: #efe3ca;
  --surface-card-grid: #d4dbc6;
  --surface-card-tile: rgba(67, 83, 57, 0.22);
  --surface-sidebar: #f5ecda;
  --surface-sidebar-hover: rgba(67, 83, 57, 0.16);
  --surface-sidebar-active: rgba(67, 83, 57, 0.22);
  --surface-sidebar-tag: rgba(67, 83, 57, 0.2);
  --surface-gradient-warm: #fbf5e8;
  --surface-gradient-warm-soft: rgba(251, 245, 232, 0.8);
  --surface-gradient-hero-from: rgba(67, 83, 57, 0.08);
  --surface-gradient-hero-to: rgba(205, 187, 153, 0.2);
  --surface-banner: rgba(18, 26, 18, 0.88);
  --surface-tonal: rgba(252, 244, 229, 0.85);
  --surface-toggle: rgba(255, 255, 255, 0.78);
  --surface-backdrop: rgba(6, 9, 7, 0.92);
  --surface-backdrop-strong: rgba(22, 28, 20, 0.92);
  --surface-backdrop-hover: rgba(32, 40, 30, 0.95);
  --surface-backdrop-compact: rgba(34, 44, 32, 0.85);
  --surface-backdrop-compact-hover: rgba(42, 54, 40, 0.96);
  --surface-tag: rgba(20, 32, 22, 0.85);
  --surface-tag-hover: rgba(32, 48, 34, 0.96);
  --surface-fallback: #efe7d8;

  --overlay-card: rgba(23, 30, 22, 0.78);
  --overlay-gradient-start: rgba(10, 16, 11, 0);
  --overlay-gradient-end: rgba(5, 8, 6, 0.92);

  --border-panel: rgba(79, 91, 68, 0.35);
  --border-card: rgba(67, 83, 57, 0.42);
  --border-card-strong: rgba(79, 91, 68, 0.55);
  --border-chip-muted: rgba(67, 83, 57, 0.28);
  --border-chip-accent: rgba(67, 83, 57, 0.45);
  --border-lightbox: rgba(112, 154, 108, 0.32);
  --border-lightbox-strong: rgba(140, 196, 132, 0.5);
  --border-lightbox-lift: rgba(140, 196, 132, 0.48);
  --border-banner: rgba(117, 157, 112, 0.35);
  --border-sidebar: rgba(67, 83, 57, 0.28);
  --border-sidebar-strong: rgba(67, 83, 57, 0.45);
  --border-avatar: rgba(67, 83, 57, 0.35);
  --border-toggle: rgba(67, 83, 57, 0.25);
  --border-toggle-hover: rgba(67, 83, 57, 0.32);
  --border-toggle-active: rgba(20, 90, 170, 0.82);
  --border-tag-pill: rgba(128, 186, 121, 0.75);
  --border-tag-pill-hover: rgba(153, 221, 145, 0.85);
  --border-profile: rgba(67, 83, 57, 0.18);

  --shadow-card: rgba(23, 30, 22, 0.2);
  --shadow-card-strong: rgba(0, 0, 0, 0.35);
  --shadow-card-soft: rgba(0, 0, 0, 0.2);
  --shadow-card-lift: rgba(1, 3, 1, 0.42);
  --shadow-ink: rgba(8, 9, 6, 0.45);
  --shadow-ink-soft: rgba(5, 6, 4, 0.45);
  --shadow-lightbox: rgba(0, 0, 0, 0.28);
  --shadow-lightbox-soft: rgba(4, 6, 3, 0.4);
  --shadow-lightbox-strong: rgba(6, 8, 5, 0.46);
  --shadow-panel: rgba(33, 49, 29, 0.18);
  --shadow-toggle: rgba(0, 0, 0, 0.08);
  --shadow-banner: rgba(0, 0, 0, 0.3);

  --state-hover-forest: rgba(67, 83, 57, 0.1);
  --state-hover-forest-strong: rgba(67, 83, 57, 0.18);
  --state-hover-forest-tint: rgba(67, 83, 57, 0.26);
  --state-focus-ring: rgba(67, 83, 57, 0.35);
  --state-focus-chip: rgba(67, 83, 57, 0.4);
  --state-focus-toggle: rgba(134, 212, 140, 0.9);

  --brand-toggle: #1d6ecb;
}

body {
  background-color: var(--linen);
  color: var(--text-primary);
  min-height: 100vh;
  font-family: 'Work Sans', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
}

a {
  color: inherit;
}

h1,
h2,
h3,
h4,
h5,
h6 {
  font-family: 'Cormorant Garamond', 'Work Sans', serif;
}

@layer components {
  .section-shell {
    @apply px-6 py-8 xl:px-9 xl:py-10;
  }

  .section-shell[data-spacing='dense'] {
    @apply py-6 xl:py-8;
  }

  .section-shell[data-tone='ink'] {
    @apply text-[var(--text-ink-900)];
  }

  .cluster-shell {
    @apply px-6 md:px-9;
  }

  .cluster-shell[data-spacing='stack'] {
    @apply pb-6;
  }

  .panel-muted {
    @apply rounded-lg border border-dashed border-[var(--border-panel)] bg-white/80 p-12 text-center text-sm text-[var(--text-muted)];
  }

  .album-card {
    @apply relative block h-72 overflow-hidden rounded-lg border border-[var(--border-card)] bg-[var(--surface-card)] transition-transform duration-200 ease-out;
  }

  .album-card:hover {
    @apply border-[var(--border-card-strong)];
  }

  .album-card__grid {
    @apply absolute inset-0 grid grid-cols-3 grid-rows-2 gap-1.5 bg-[var(--surface-card-grid)] p-2.5;
  }

  .album-card__tile {
    @apply relative flex items-center justify-center overflow-hidden bg-[var(--surface-card-tile)];
  }

  .album-card__tile[data-state='empty'] {
    @apply opacity-60;
  }

  .album-card__thumb {
    @apply h-full w-full object-cover transition duration-300 ease-out;
  }

  .album-card__meta {
    @apply absolute inset-x-3 bottom-3 rounded-md bg-[var(--overlay-card)] p-3 text-[var(--text-card)] shadow-[0_8px_18px_var(--shadow-card)];
  }

  .album-card__title {
    @apply text-lg font-bold;
  }

  .album-card__count {
    @apply text-xs text-[var(--text-card-muted)];
  }

  .chip {
    @apply inline-flex items-center gap-2 rounded-full border px-4 py-2 text-xs font-semibold uppercase tracking-widest transition hover:-translate-y-0.5 hover:bg-[var(--state-hover-forest)];
  }

  .chip[data-tone='muted'] {
    @apply border-[var(--border-chip-muted)] bg-white/80 text-[var(--text-muted)];
  }

  .chip[data-tone='accent'] {
    @apply border-[var(--border-chip-accent)] bg-[var(--surface-card-tile)] text-[var(--accent)];
  }

  .chip[data-tone='accent']:hover {
    @apply bg-[var(--state-hover-forest-tint)];
  }

  .chip[data-state='active'],
  .chip:hover {
    @apply text-[var(--accent)];
  }

  .btn {
    @apply inline-flex items-center gap-2 rounded-sm border px-3 py-2 text-sm font-medium transition hover:-translate-y-0.5;
  }

  .btn[data-tone='tonal'] {
    @apply border-[var(--border-toggle-hover)] bg-[var(--surface-tonal)] hover:bg-[var(--state-hover-forest-strong)];
  }

  .btn[data-tone='ghost'] {
    @apply border-transparent bg-transparent text-[var(--accent)] hover:bg-[var(--state-hover-forest)];
  }

  .btn[data-size='xs'] {
    @apply px-2.5 py-1.5 text-xs;
  }

  .album-card:focus-visible,
  .btn:focus-visible,
  .chip:focus-visible {
    @apply outline-none ring-2 ring-[color-mix(in_oklab,var(--olive-700)_40%,#fff)] ring-offset-2 ring-offset-[var(--paper)];
  }

  @media (hover:hover) {
    .album-card:hover {
      transform: translateY(-0.375rem);
    }

    .album-card:hover .album-card__thumb {
      transform: scale(1.03);
    }
  }

  @media (prefers-reduced-motion: reduce) {
    .album-card:hover {
      transform: none !important;
    }

    .album-card__thumb {
      transition: none !important;
      transform: none !important;
    }
  }
}
