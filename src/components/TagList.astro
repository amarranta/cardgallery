---
import { filterVisibleTags } from '../data/tag-visibility.js';

interface TagItem {
  slug: string;
  label: string;
}

interface TagListProps {
  tags?: TagItem[];
  activeTag?: string | null;
}

const { tags = [], activeTag = null } = Astro.props as TagListProps;
const visibleTags = filterVisibleTags(tags);
---
<ul class="cluster-shell flex flex-wrap gap-2" data-spacing="stack">
  {visibleTags.map(tag => (
    <li>
      <a
        class="chip"
        data-tone={activeTag === tag.slug ? 'accent' : 'muted'}
        data-state={activeTag === tag.slug ? 'active' : undefined}
        href={`${import.meta.env.BASE_URL}tag/${tag.slug}`}
        data-i18n={`tags.${tag.label}`}
      >
        {tag.label}
      </a>
    </li>
  ))}
</ul>
