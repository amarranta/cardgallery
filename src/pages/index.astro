---
import BaseLayout from '../layouts/BaseLayout.astro';
import Sidebar from '../components/Sidebar.astro';
import ProfileHero from '../components/ProfileHero.astro';
import ViewHeader from '../components/ViewHeader.astro';
import AlbumGrid from '../components/AlbumGrid.astro';
import TagList from '../components/TagList.astro';
import { getAlbums, getTags, hero, site } from '../data/gallery.js';

const albums = getAlbums();
const tags = getTags();
---
<BaseLayout title={site.title} description={site.description}>
  <div class="flex min-h-screen flex-col lg:flex-row">
    <Sidebar albums={albums} tags={tags} />
    <main class="flex flex-1 flex-col overflow-hidden">
      <ProfileHero {...hero} />
  <ViewHeader title="Postcard Folders" subtitle="A look through my mail shelves" />
      <AlbumGrid albums={albums} />
      {tags.length > 0 && (
        <section class="pb-12">
          <h3 class="px-6 text-sm font-semibold uppercase tracking-[0.3em] text-muted md:px-9">
            Browse by tag
          </h3>
          <TagList tags={tags} />
        </section>
      )}
    </main>
  </div>
</BaseLayout>
