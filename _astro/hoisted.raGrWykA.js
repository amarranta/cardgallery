import"./hoisted.DfB8pqgm.js";(()=>{const f="cardgallery-layout-mode",m=new WeakSet,y=(t,a)=>{t.forEach(r=>{const s=r.dataset.mode===a;r.classList.toggle("is-active",s),r.setAttribute("aria-pressed",s?"true":"false")})},l=(t,a)=>a&&a.id===t&&document.body.contains(a)?a:document.getElementById(t),p=t=>{if(!(t instanceof HTMLElement)||m.has(t))return;const a=t.dataset.target??"",r=t.dataset.default??"classic",s=Array.from(t.querySelectorAll("[data-mode]")).filter(e=>e instanceof HTMLButtonElement);if(!a||s.length===0)return;const g=new Set(s.map(e=>e.dataset.mode).filter(e=>typeof e=="string"&&e.length>0));let n=l(a,null),c=null;const i=e=>{const o=typeof e=="string"&&g.has(e)?e:r;if(y(s,o),c=o,n=l(a,n),!!n){c=null,n.dataset.layoutMode!==o&&(n.dataset.layoutMode=o);try{localStorage.setItem(f,o)}catch{}}};let u=r;try{const e=localStorage.getItem(f);e&&g.has(e)&&(u=e)}catch{}if(s.forEach(e=>{e.addEventListener("click",o=>{o.preventDefault(),i(e.dataset.mode)})}),!n){const e=new MutationObserver(()=>{n=l(a,n),n&&(e.disconnect(),i(c||u))});e.observe(document.documentElement,{childList:!0,subtree:!0})}i(u),m.add(t)},d=()=>{document.querySelectorAll("[data-layout-toggle]").forEach(t=>{t instanceof HTMLElement&&p(t)})};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",d,{once:!0}):d(),document.addEventListener("astro:page-load",d),document.addEventListener("astro:after-swap",d)})();
